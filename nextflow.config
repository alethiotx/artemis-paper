/**
 * Knowledge Graph Drug Target Discovery Pipeline Configuration
 *
 * Main configuration file for the Nextflow pipeline orchestrating knowledge graph
 * analysis, cross-validation, and drug target predictions across multiple disease
 * indications.
 *
 * Usage:
 *   nextflow run main.nf -profile local --mode cv
 *   nextflow run main.nf -profile seqera --mode predictions
 *
 * Profiles:
 *   local   - For local execution with Docker
 *   seqera  - For cloud execution via Seqera Platform
 */

// ─── Process Configuration ───────────────────────────────────────────────────

process {
    // Docker container with all pipeline dependencies
    container = 'public.ecr.aws/alethiotx/artemis-paper:latest'
}

// ─── Pipeline Parameters ─────────────────────────────────────────────────────

params {
    // Output directory for results (S3 bucket or local path)
    outdir = 's3://alethiotx-artemis'
    
    // Pipeline execution mode
    // Options: 'scores', 'cv', 'predictions', 'post_predictions', 'data', 'kgs', 'upset'
    mode = 'predictions'
    
    // Clinical scores and pathway genes date (YYYY-MM-DD format)
    // Must match a directory in the outdir/data/ folder
    scores_date = '2025-12-12'
    
    // ChEMBL database version for molecule data
    // See: https://chembl.gitbook.io/chembl-interface-documentation/downloads
    chembl_version = '36'
    
    // MeSH tree structure file base identifier
    // Format: 'd' + year (e.g., 'd2025' for 2025 MeSH data)
    // See: https://nlmpubs.nlm.nih.gov/projects/mesh/MESH_FILES/asciimesh/
    mesh_file_base = 'd2025'
}

// ─── Execution Profiles ──────────────────────────────────────────────────────

profiles {
    // Local execution profile
    // Uses Docker for containerization and local compute resources
    local {
        includeConfig 'conf/base.config'
        includeConfig 'conf/local.config'
    }
    
    // Seqera Platform execution profile
    // For cloud-based execution with AWS Batch or similar
    seqera {
        includeConfig 'conf/base.config'
    }
}
